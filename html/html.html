<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .star {
        font-size: 24px;
        cursor: pointer;
      }

      .star:hover,
      .star.active {
        color: gold;
      }
    </style>
  </head>
  <body>
    <div class="rating">
      <span class="star" data-rating="1">&#9734;</span>
      <span class="star" data-rating="2">&#9734;</span>
      <span class="star" data-rating="3">&#9734;</span>
      <span class="star" data-rating="4">&#9734;</span>
      <span class="star" data-rating="5">&#9734;</span>
    </div>
    <script>
      const stars = document.querySelectorAll(".star");

      stars.forEach((star) => {
        star.addEventListener("click", (e) => {
          const clickedStar = e.target;
          const rating = clickedStar.getAttribute("data-rating");

          stars.forEach((s) => {
            s.classList.remove("active");
          });

          for (let i = 0; i < rating; i++) {
            stars[i].classList.add("active");
          }
        });
      });

    </script>
  </body>
</html> -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Rating</title>
    <style>
      .star {
        font-size: 24px;
        cursor: pointer;
      }

      .star.active {
        color: gold;
      }
    </style>
  </head>
  <body>
    <div class="rating">
      <span class="star" data-rating="1">&#9733;</span>
      <span class="star" data-rating="2">&#9733;</span>
      <span class="star" data-rating="3">&#9733;</span>
      <span class="star" data-rating="4">&#9733;</span>
      <span class="star" data-rating="5">&#9733;</span>
    </div>
    <p>Average Rating: <span id="averageRating">4.3</span></p>
    <script>
      const stars = document.querySelectorAll(".star");
      const averageRatingElement = document.getElementById("averageRating");

      // Tính trung bình mức độ hài lòng (giả sử avgRating là số thực)
      const avgRating = 3.3;

      // Làm tròn giá trị trung bình đánh giá lên gần nhất
      const roundedRating = Math.round(avgRating);

      // Loại bỏ class "active" cho tất cả ngôi sao
      stars.forEach((star) => {
        star.classList.remove("active");
      });

      // Tô màu ngôi sao tương ứng với giá trị đánh giá được làm tròn
      for (let i = 0; i < roundedRating; i++) {
        stars[i].classList.add("active");
      }

      // Cập nhật hiển thị trung bình mức độ hài lòng
      averageRatingElement.textContent = avgRating.toFixed(1);
    </script>
  </body>
</html>

