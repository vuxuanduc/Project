<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Rating</title>
    <style>
      .star {
        font-size: 24px;
        cursor: pointer;
      }

      .star.active {
        color: gold;
      }
    </style>
  </head>
  <body>
    <div class="rating">
      <span class="star" data-rating="1">&#9733;</span>
      <span class="star" data-rating="2">&#9733;</span>
      <span class="star" data-rating="3">&#9733;</span>
      <span class="star" data-rating="4">&#9733;</span>
      <span class="star" data-rating="5">&#9733;</span>
    </div>
    <p>Average Rating: <span id="averageRating">4.3</span></p>
    <script>
        const stars = document.querySelectorAll(".star");
        const averageRatingElement = document.getElementById("averageRating");
      
        // Tính trung bình mức độ hài lòng (giả sử avgRating là số thực)
        const avgRating = 2.3;
      
        // Tách phần nguyên và phần thập phân
        const integerPart = Math.floor(avgRating);
        const decimalPart = avgRating - integerPart;
      
        // Loại bỏ class "active" cho tất cả ngôi sao
        stars.forEach((star) => {
          star.classList.remove("active");
          star.style.width = "auto"; // Reset the width
        });
      
        // Tô màu ngôi sao tương ứng với phần nguyên đánh giá
        for (let i = 0; i < integerPart; i++) {
          stars[i].classList.add("active");
        }
      
        

        // Tô màu ngôi sao kế tiếp với left-half style cho phần thập phân (nếu có) bằng màu xanh
// if (integerPart < stars.length && decimalPart >= 0.25) {
//   const nextStar = stars[integerPart];
//   nextStar.classList.add("active");
//   nextStar.style.width = "50%";
//   nextStar.style.color = "linear-gradient(to right, transparent 50%, green 50%)";
// }
if (integerPart < stars.length && decimalPart >= 0.25) {
  const nextStar = stars[integerPart];
  nextStar.classList.add("active");
  nextStar.style.width = "25%";
  nextStar.style.color = "green";
}


      
        // Cập nhật hiển thị trung bình mức độ hài lòng
        averageRatingElement.textContent = avgRating.toFixed(1);
      </script>
      
  </body>
</html>

